# Generated by Makefile.rb.

tgts: ../public ../public/img ../public/src ../public/src/bin ../public/src/left ../public/src/right ../public/src/our_articles ../public/src/others_articles ../public/our_articles ../public/others_articles  ../public/style.css ../public/index.html ../public/src/bin/e.bash.txt ../public/src/bin/launch.bash.txt ../public/img/self_2010-01_thumb.jpg ../public/img/snow_grosvenor_2010-01.jpg ../public/img/happy_human.gif ../public/img/golf_2010-02-07.jpg ../public/our_articles/snowy_golf_course.html ../public/our_articles/imp_mund_intro.html ../public/our_articles/imp_mund.html ../public/our_articles/imp_mund_soc.html ../public/others_articles/dummy src_links
	ruby tell_photo_width.rb

src_links: list Makefile
	while read f; do \
	  rm -rf ../public/src/$$f.txt; \
	  ln $$f ../public/src/$$f.txt; \
	done <list
	touch $@

list: . left right our_articles others_articles
	ls *.rb >$@.t
	ls left/*.rb >>$@.t
	ls right/*.rb >>$@.t
	ls our_articles/*.rb >>$@.t
	ls others_articles/*.rb >>$@.t
	mv $@.t $@

try: tgts
	firefox ../public/index.html >/dev/null 2>&1&

clean:
	rm -f *~ ../public/*.t */*~

pristeen: clean
	rm -rf ../public

../public:
	test -d $@ || mkdir $@

../public/img:
	test -d $@ || mkdir $@

../public/src:
	test -d $@ || mkdir $@

../public/src/bin:
	test -d $@ || mkdir $@

../public/src/left:
	test -d $@ || mkdir $@

../public/src/right:
	test -d $@ || mkdir $@

../public/src/our_articles:
	test -d $@ || mkdir $@

../public/src/others_articles:
	test -d $@ || mkdir $@

../public/our_articles:
	test -d $@ || mkdir $@

../public/others_articles:
	test -d $@ || mkdir $@

../public/src/bin/e.bash.txt: ../../bin/e
	rm -rf $@
	ln $? $@

../public/src/bin/launch.bash.txt: ../../bin/launch
	rm -rf $@
	ln $? $@

../public/style.css: style.css.rb common.rb env.rb
	ruby style.css.rb >$@.t
	mv $@.t $@

../public/index.html: index.html.rb common.rb left right left/* right/* env.rb
	ruby index.html.rb >$@.t
	mv $@.t $@

../public/our_articles/snowy_golf_course.html: our_articles/snowy_golf_course.html.rb common.rb env.rb
	ruby our_articles/snowy_golf_course.html.rb >$@.t
	mv $@.t $@

../public/our_articles/imp_mund_intro.html: our_articles/imp_mund_intro.html.rb common.rb env.rb
	ruby our_articles/imp_mund_intro.html.rb >$@.t
	mv $@.t $@

../public/our_articles/imp_mund.html: our_articles/imp_mund.html.rb common.rb env.rb
	ruby our_articles/imp_mund.html.rb >$@.t
	mv $@.t $@

../public/our_articles/imp_mund_soc.html: our_articles/imp_mund_soc.html.rb common.rb env.rb
	ruby our_articles/imp_mund_soc.html.rb >$@.t
	mv $@.t $@

../public/others_articles/dummy: others_articles/dummy.rb common.rb env.rb
	ruby others_articles/dummy.rb >$@.t
	mv $@.t $@

Makefile: Makefile.rb common.rb images *articles* env.rb
	ruby Makefile.rb >$@.t
	mv $@.t $@

../public/img/self_2010-01_thumb.jpg: images/self_2010-01_thumb.jpg
	rm -f $@
	ln $? $@

../public/img/snow_grosvenor_2010-01.jpg: images/snow_grosvenor_2010-01.jpg
	rm -f $@
	ln $? $@

../public/img/happy_human.gif: images/happy_human.gif
	rm -f $@
	ln $? $@

../public/img/golf_2010-02-07.jpg: images/golf_2010-02-07.jpg
	rm -f $@
	ln $? $@
